{
  "name": "AI助手",
  "type": "apiDetailFolder",
  "children": [
    {
      "name": "AI对话",
      "type": "http",
      "method": "POST",
      "path": "/api/ai/chat",
      "commonRequestInfo": {
        "body": {
          "type": "application/json",
          "jsonSchema": {
            "type": "object",
            "required": ["user_id", "message"],
            "properties": {
              "user_id": {
                "type": "string",
                "description": "用户ID",
                "example": "AN051",
                "mock": {
                  "mock": "@string"
                }
              },
              "message": {
                "type": "string",
                "description": "用户消息",
                "example": "我想准备考研数学",
                "mock": {
                  "mock": "@csentence"
                }
              },
              "conversation_id": {
                "type": "string",
                "description": "对话ID（可选，续接对话时需要）",
                "example": "user_AN051_conv_1762594131"
              }
            }
          }
        }
      },
      "responseList": [
        {
          "name": "成功响应",
          "code": 200,
          "contentType": "application/json",
          "jsonSchema": {
            "type": "object",
            "properties": {
              "code": {
                "type": "integer",
                "example": 200
              },
              "data": {
                "type": "object",
                "properties": {
                  "reply": {
                    "type": "string",
                    "description": "AI回复内容",
                    "example": "你好！准备考研数学需要系统规划..."
                  },
                  "conversation_id": {
                    "type": "string",
                    "description": "对话ID",
                    "example": "user_AN051_conv_1762594131"
                  },
                  "token_usage": {
                    "type": "object",
                    "properties": {
                      "input": {
                        "type": "integer",
                        "description": "输入Token数",
                        "example": 132
                      },
                      "output": {
                        "type": "integer",
                        "description": "输出Token数",
                        "example": 51
                      },
                      "total": {
                        "type": "integer",
                        "description": "总Token数",
                        "example": 183
                      },
                      "cost": {
                        "type": "number",
                        "description": "费用（人民币）",
                        "example": 0.00006405
                      }
                    }
                  }
                }
              }
            }
          }
        }
      ]
    },
    {
      "name": "生成学习计划",
      "type": "http",
      "method": "POST",
      "path": "/api/ai/generate-plan",
      "commonRequestInfo": {
        "body": {
          "type": "application/json",
          "jsonSchema": {
            "type": "object",
            "required": ["goal"],
            "properties": {
              "user_id": {
                "type": "string",
                "description": "用户ID",
                "example": "AN051"
              },
              "goal": {
                "type": "string",
                "description": "学习目标",
                "example": "准备考研数学，目标130分以上"
              },
              "deadline": {
                "type": "string",
                "description": "截止日期",
                "example": "2025-12-31"
              },
              "current_level": {
                "type": "string",
                "description": "当前水平",
                "example": "基础薄弱"
              },
              "daily_hours": {
                "type": "integer",
                "description": "每天可学习小时数",
                "example": 3
              }
            }
          }
        }
      },
      "responseList": [
        {
          "name": "成功响应",
          "code": 200,
          "contentType": "application/json",
          "jsonSchema": {
            "type": "object",
            "properties": {
              "code": {
                "type": "integer",
                "example": 200
              },
              "data": {
                "type": "object",
                "properties": {
                  "plan_id": {
                    "type": "string",
                    "example": "plan_1762594200"
                  },
                  "title": {
                    "type": "string",
                    "example": "考研数学学习计划"
                  },
                  "phases": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "phase_name": {
                          "type": "string",
                          "example": "第一阶段：基础夯实"
                        },
                        "duration": {
                          "type": "string",
                          "example": "1-2个月"
                        },
                        "tasks": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": ["完成高等数学第1-5章", "做课后习题"]
                        }
                      }
                    }
                  },
                  "suggestions": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": ["每天固定时间学习", "多做练习题"]
                  },
                  "token_usage": {
                    "type": "object",
                    "properties": {
                      "total": {
                        "type": "integer",
                        "example": 500
                      },
                      "cost": {
                        "type": "number",
                        "example": 0.000175
                      }
                    }
                  }
                }
              }
            }
          }
        }
      ]
    },
    {
      "name": "目标拆解",
      "type": "http",
      "method": "POST",
      "path": "/api/ai/breakdown-goal",
      "commonRequestInfo": {
        "body": {
          "type": "application/json",
          "jsonSchema": {
            "type": "object",
            "required": ["goal"],
            "properties": {
              "user_id": {
                "type": "string",
                "example": "AN051"
              },
              "goal": {
                "type": "string",
                "description": "主目标",
                "example": "通过英语六级考试"
              },
              "deadline": {
                "type": "string",
                "example": "2025-06-30"
              }
            }
          }
        }
      },
      "responseList": [
        {
          "name": "成功响应",
          "code": 200,
          "contentType": "application/json",
          "jsonSchema": {
            "type": "object",
            "properties": {
              "code": {
                "type": "integer",
                "example": 200
              },
              "data": {
                "type": "object",
                "properties": {
                  "main_goal": {
                    "type": "string",
                    "example": "通过英语六级考试"
                  },
                  "sub_goals": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "task": {
                          "type": "string",
                          "example": "每天背诵50个单词"
                        },
                        "estimated_days": {
                          "type": "integer",
                          "example": 90
                        },
                        "priority": {
                          "type": "string",
                          "enum": ["高", "中", "低"],
                          "example": "高"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      ]
    },
    {
      "name": "评估计划",
      "type": "http",
      "method": "POST",
      "path": "/api/ai/evaluate-plan",
      "commonRequestInfo": {
        "body": {
          "type": "application/json",
          "jsonSchema": {
            "type": "object",
            "required": ["goal", "plan_content"],
            "properties": {
              "user_id": {
                "type": "string",
                "example": "AN051"
              },
              "goal": {
                "type": "string",
                "example": "学会Python编程"
              },
              "plan_content": {
                "type": "string",
                "description": "计划内容",
                "example": "第一周学语法，第二周做项目"
              },
              "daily_hours": {
                "type": "integer",
                "example": 2
              },
              "deadline": {
                "type": "string",
                "example": "2025-03-31"
              }
            }
          }
        }
      },
      "responseList": [
        {
          "name": "成功响应",
          "code": 200,
          "contentType": "application/json",
          "jsonSchema": {
            "type": "object",
            "properties": {
              "code": {
                "type": "integer",
                "example": 200
              },
              "data": {
                "type": "object",
                "properties": {
                  "score": {
                    "type": "integer",
                    "description": "可行性评分(0-100)",
                    "example": 75
                  },
                  "strengths": {
                    "type": "array",
                    "description": "计划优点",
                    "items": {
                      "type": "string"
                    },
                    "example": ["时间安排合理", "有明确阶段"]
                  },
                  "issues": {
                    "type": "array",
                    "description": "存在问题",
                    "items": {
                      "type": "string"
                    },
                    "example": ["缺少练习环节"]
                  },
                  "suggestions": {
                    "type": "array",
                    "description": "优化建议",
                    "items": {
                      "type": "string"
                    },
                    "example": ["增加每日练习时间"]
                  }
                }
              }
            }
          }
        }
      ]
    },
    {
      "name": "获取对话列表",
      "type": "http",
      "method": "GET",
      "path": "/api/ai/conversations",
      "commonRequestInfo": {
        "parameters": {
          "query": [
            {
              "name": "user_id",
              "required": true,
              "type": "string",
              "description": "用户ID",
              "example": "AN051"
            }
          ]
        }
      },
      "responseList": [
        {
          "name": "成功响应",
          "code": 200,
          "contentType": "application/json",
          "jsonSchema": {
            "type": "object",
            "properties": {
              "code": {
                "type": "integer",
                "example": 200
              },
              "data": {
                "type": "object",
                "properties": {
                  "conversations": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "conversation_id": {
                          "type": "string",
                          "example": "user_AN051_conv_1762594131"
                        },
                        "message_count": {
                          "type": "integer",
                          "example": 5
                        },
                        "last_message": {
                          "type": "string",
                          "example": "我想准备考研数学"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      ]
    },
    {
      "name": "删除对话",
      "type": "http",
      "method": "DELETE",
      "path": "/api/ai/conversations/{conversation_id}",
      "commonRequestInfo": {
        "parameters": {
          "path": [
            {
              "name": "conversation_id",
              "required": true,
              "type": "string",
              "description": "对话ID",
              "example": "user_AN051_conv_1762594131"
            }
          ]
        }
      },
      "responseList": [
        {
          "name": "成功响应",
          "code": 200,
          "contentType": "application/json",
          "jsonSchema": {
            "type": "object",
            "properties": {
              "code": {
                "type": "integer",
                "example": 200
              },
              "message": {
                "type": "string",
                "example": "对话已删除"
              }
            }
          }
        }
      ]
    }
  ]
}